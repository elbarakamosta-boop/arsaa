<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ø¬Ù…Ø¹ÙŠØ© Ø§Ù„Ø¨Ø±ÙƒØ© Ù„Ù„Ø¹Ù…Ù„ Ø§Ù„Ø®ÙŠØ±ÙŠ ÙˆØ§Ù„Ø§Ù†Ø³Ø§Ù†ÙŠ</title>
    <link rel="icon" type="image/png" href="images/logo.png" />
    <link rel="stylesheet" href="css/styles.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
  </head>
  <body>
    <!-- Authentication Check -->
    <script>
      const currentUser = JSON.parse(
        sessionStorage.getItem("currentUser") ||
          localStorage.getItem("rememberedUser")
      );
      if (!currentUser) {
        window.location.href = "login.html";
      }
    </script>

    <div class="container">
      <header>
        <div class="logo-container">
          <img src="images/logo.png" alt="Ø´Ø¹Ø§Ø± Ø§Ù„Ø¬Ù…Ø¹ÙŠØ©" class="logo" />
          <div class="header-text">
            <h1>Ø¬Ù…Ø¹ÙŠØ© Ø§Ù„Ø¨Ø±ÙƒØ© Ù„Ù„Ø¹Ù…Ù„ Ø§Ù„Ø®ÙŠØ±ÙŠ ÙˆØ§Ù„Ø§Ù†Ø³Ø§Ù†ÙŠ</h1>
            <div class="user-controls">
              <span id="userGreeting">Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ <span id="userName"></span></span>
              <button id="logoutBtn" class="logout-btn">
                <i class="fas fa-sign-out-alt"></i> ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬
              </button>
            </div>
          </div>
        </div>
      </header>

      <div class="main-content">
        <div class="left-section">
          <div class="buttons-grid" id="roleButtons">
            <button data-role="raees" onclick="window.open('1.html', '_blank')">
              <i class="fas fa-user-tie"></i>
              Ø±Ø¦ÙŠØ³ Ø§Ù„Ù…ÙƒØªØ¨
            </button>
            <button data-role="tanzeem" onclick="window.open('2.html', '_blank')">
              <i class="fas fa-users-cog"></i>
              Ø§Ù„Ù†Ø§Ø¦Ø¨ Ø§Ù„Ù…ÙƒÙ„Ù Ø¨Ø§Ù„ØªÙ†Ø¸ÙŠÙ…
            </button>
            <button data-role="hamlat" onclick="window.open('3.html', '_blank')">
              <i class="fas fa-hands-helping"></i>
              Ø§Ù„Ù†Ø§Ø¦Ø¨ Ø§Ù„Ù…ÙƒÙ„Ù Ø¨Ø§Ù„Ø­Ù…Ù„Ø§Øª
            </button>
            <button data-role="idara" onclick="window.open('4.html', '_blank')">
              <i class="fas fa-calculator"></i>
              Ø§Ù„Ø§Ø¯Ø§Ø±Ø© ÙˆØ§Ù„Ù…Ø§Ù„ÙŠØ©
            </button>
            <button data-role="katib" onclick="window.open('5.html', '_blank')">
              <i class="fas fa-file-alt"></i>
              Ø§Ù„ÙƒØ§ØªØ¨ Ø§Ù„Ø¹Ø§Ù…
            </button>
            <button data-role="i3lam" onclick="window.open('6.html', '_blank')">
              <i class="fas fa-bullhorn"></i>
              Ù…Ø³Ø¤ÙˆÙ„ Ø§Ù„Ø§Ø¹Ù„Ø§Ù…
            </button>
            <button data-role="shabab" onclick="window.open('7.html', '_blank')">
              <i class="fas fa-users"></i>
              Ø§Ù…Ø§Ù†Ø© Ø§Ù„Ø´Ø¨Ø§Ø¨
            </button>
            <button data-role="nissa" onclick="window.open('8.html', '_blank')">
              <i class="fas fa-female"></i>
              Ù†Ø³Ø§Ø¡ Ø§Ù„Ø¨Ø±ÙƒØ©
            </button>
            <button data-role="aadhou" onclick="window.open('9.html', '_blank')">
              <i class="fas fa-user"></i>
              Ø¹Ø¶Ùˆ
            </button>
          </div>

          <!-- Ø²Ø± Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†Ø®Ø±Ø·ÙŠÙ† -->
          <button class="members-btn" onclick="openModal()">
            <i class="fas fa-users"></i>
            Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ù†Ø®Ø±Ø·ÙŠÙ†
          </button>

          <div class="modal" id="membersModal">
            <div class="modal-content">
              <button class="close-btn" onclick="closeModal()">
                <i class="fas fa-times"></i>
              </button>
              <button class="add-btn" onclick="window.open('add.html', '_blank')">
                <i class="fas fa-user-plus"></i>
              </button>
              <header2>
                <h12> Ù„Ø§Ø¦Ø­Ø© Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡</h12>
                <div class="controls">
                  <input
                    id="search"
                    type="search"
                    placeholder="Ø§Ø¨Ø­Ø« Ø¨Ø§Ù„Ø§Ø³Ù…ØŒ Ø§Ù„Ø¹Ù†ÙˆØ§Ù†ØŒ Ø§Ù„Ù‡Ø§ØªÙ..."
                  />
                  <select id="sortSelect">
                    <option value="">ØªØ±ØªÙŠØ¨ Ø§ÙØªØ±Ø§Ø¶ÙŠ</option>
                    <option value="date_desc">Ø§Ù„Ø£Ø­Ø¯Ø«</option>
                    <option value="date_asc">Ø§Ù„Ø£Ù‚Ø¯Ù…</option>
                    <option value="name_asc">Ø§Ù„Ø§Ø³Ù… (Ø£-ÙŠ)</option>
                    <option value="name_desc">Ø§Ù„Ø§Ø³Ù… (ÙŠ-Ø£)</option>
                  </select>
                </div>
              </header2>
              <main>
                <div id="grid" class="grid" aria-live="polite"></div>
                <div id="empty" class="empty" style="display: none">
                  Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬
                </div>
              </main>
            </div>
          </div>
          <!-- Ø²Ø± Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ù…Ù‚Ø¨Ù„ -->
          <button
            class="activite-btn"
            style="margin-top: -20px"
            onclick="window.open('next-activity.html', '_blank')"

          >
            <i class="fas fa-calendar-plus"></i>
            Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ù…Ù‚Ø¨Ù„
          </button>

          <!-- Ø²Ø± Ø¢Ø®Ø± Ø§Ù„Ø£Ø­Ø¯Ø§Ø« -->
          <button
            class="eventss-btn"
            style="margin-top: -20px"
            onclick="window.open('next-events.html', '_blank')"
          >
            <i class="fas fa-calendar-alt"></i>
            Ø¢Ø®Ø± Ø§Ù„Ø£Ø­Ø¯Ø§Ø«
          </button>

          <div class="activity-box">
            <h3><i class="far fa-calendar-alt"></i> Ø§Ù„Ù†Ø´Ø§Ø· Ø§Ù„Ù…Ù‚Ø¨Ù„</h3>
            <div class="activity-content">
              <div id="activity"></div>
            </div>
          </div>

          <div class="calendar-box">
            <h3><i class="far fa-calendar"></i> Ø§Ù„Ø±Ø²Ù†Ø§Ù…Ø©</h3>
            <div id="calendar"></div>
          </div>
        </div>

        <div class="right-section">
          <div class="profile-box">
            <div class="profile-pic">
              <img id="userAvatar" src="" alt="ØµÙˆØ±Ø© Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ" />
            </div>
            <div class="profile-info">
              <h3 id="userFullName">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„</h3>
              <p class="rank" id="userPosition">Ø§Ù„Ø±ØªØ¨Ø© / Ø§Ù„Ù…Ù†ØµØ¨</p>
            </div>
          </div>

          <div class="events-box">
            <h3><i class="far fa-calendar-check"></i> Ø¢Ø®Ø± Ø§Ù„Ø£Ø­Ø¯Ø§Ø«</h3>
            <div class="events-content">
              <div id="events" class="events-container"></div>
            </div>
          </div>

          <div class="documents-box">
            <h3><i class="far fa-file-alt"></i> Ø§Ù„ÙˆØ«Ø§Ø¦Ù‚ ÙˆØ§Ù„Ù…Ø³ØªÙ†Ø¯Ø§Øª</h3>
            <div class="upload-area">
              <label
                for="files"
                class="upload-btn"
                onclick="window.open('https://docs.google.com/forms/d/e/1FAIpQLSfkLSgm7-mAMS5yBdxfmiloF-jARQXRKXL6fBUAcXTtcp0W4g/viewform', '_blank')"
              >
                <i class="fas fa-cloud-upload-alt"></i> Ø±ÙØ¹ Ù…Ù„Ù
              </label>
              <label for="files" class="open-modal-btnn3">
                <i class="fas fa-folder-open"></i> Ù…Ù„ÙØ§ØªÙŠ
              </label>
            </div>
          </div>

          <!-- Chat Box -->
          <div class="chat-box">
            <h3><i class="far fa-comments"></i> Ø¯Ø±Ø¯Ø´Ø© Ø³Ø±ÙŠØ¹Ø©</h3>
            <div  id="userInfo"></div>
            <div class="messages2" id="messages2"></div>
            <div class="chat-input">
              <input type="text" id="message" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„Ø©" dir="rtl">
              <button onclick="sendMessage()"><i class="fas fa-paper-plane"></i> Ø¥Ø±Ø³Ø§Ù„</button>
            </div>
          </div>
          <!-- Ø§Ù„Ù†Ø§ÙØ°Ø© Ø§Ù„Ù…Ù†Ø¨Ø«Ù‚Ø© -->
          <div id="filesModal" class="modal">
            <div class="modal-content">
              <span class="close-btnn3">&times;</span>
              <div class="containern3">
                <header class="page-header">
                  <h1>Ù…Ù„ÙØ§ØªÙŠ</h1>
                </header>
                <div id="files">
                  <div class="loading3">
                    <i class="fas fa-spinner fa-spin"></i> Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„
                    Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª...
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="offices-box">
            <h3><i class="fas fa-building"></i> Ø§Ù„Ù…ÙƒØ§ØªØ¨ Ø§Ù„Ø¨Ù„Ø¯ÙŠØ©</h3>
            <div id="offices-container">
              <div class="offices-grid" id="offices-grid">
                <!-- Will be populated by JavaScript -->
                <div class="loading-offices">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ÙƒØ§ØªØ¨...</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/moment-hijri@2.1.2/moment-hijri.min.js"></script>
    <!-- Load main app script first -->
    <script src="js/script.js"></script>
    <!-- Then load offices module -->
    <script src="js/offices.js"></script>
    <script>
      // First load the script that contains the offices data
      document.write('<script src="js/script.js"><\/script>');

      // Then initialize the offices grid after a short delay
      window.addEventListener("load", function () {
        console.log("Window loaded, initializing offices grid...");
        if (typeof initializeOfficesGrid === "function") {
          initializeOfficesGrid();
          // Try again after a short delay in case of any timing issues
          setTimeout(initializeOfficesGrid, 500);
        } else {
          console.error("initializeOfficesGrid function not found!");
        }
      });
    </script>
    <script>
      const scriptURL4 =
        "https://script.googleusercontent.com/macros/echo?user_content_key=AehSKLjCT8P9xbIkjNkwT-9l8-Ycsx4oQZZa_JzzwOF5h18xQWbdeZu7bpg6Yc14ZEy0zx387HKoZH7VKJosiQ7vB8vhIRrStrbOi7V2YJz-biT0OhCQrLEw_EGBpg6xxha1cB_9YNt-ujXL0tngM4l5KkQnDCYJd_cradXnShS5BSNrsgPlg3hixfYcpeHViL9fW0bBBZiKs5_6EKcq5c5YEvD5GiOXxHXecw2Z7wbVuSH474a5vXX_L9CItJ7PnDx9fTtxB_F1n4s7i3iA3C6CnxzeDgkg4A&lib=M9GMHwdKFWtmnwHc_P3xVqxPjlVuYgOMu";

      // ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ØªØ§Ø±ÙŠØ®
      function formatDate(dateString) {
        if (!dateString) return "ØºÙŠØ± Ù…Ø­Ø¯Ø¯";
        const options = { year: "numeric", month: "long", day: "numeric" };
        return new Date(dateString).toLocaleDateString("ar-DZ", options);
      }

      // ØªØ­Ø¯ÙŠØ¯ Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ù…Ù„Ù Ø­Ø³Ø¨ Ø§Ù„Ø§Ù…ØªØ¯Ø§Ø¯
      function getFileIcon(url) {
        const ext = url?.split(".").pop().toLowerCase();
        const icons = {
          pdf: "file-pdf",
          doc: "file-word",
          docx: "file-word",
          xls: "file-excel",
          xlsx: "file-excel",
          jpg: "file-image",
          jpeg: "file-image",
          png: "file-image",
          mp4: "file-video",
          avi: "file-video",
          zip: "file-archive",
        };
        return icons[ext] || "file";
      }

      // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
      async function loadFiles() {
        const container = document.getElementById("files");
        try {
          const res = await fetch(scriptURL4);
          const data = await res.json();
          if (!data.length) {
            container.innerHTML =
              "<p style='text-align:center;color:#888;'>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù„ÙØ§Øª Ø­Ø§Ù„ÙŠØ§Ù‹</p>";
            return;
          }

          const grid = document.createElement("div");
          grid.className = "file-grid";

          data.forEach((file) => {
            const idMatch = file.url?.match(/[-\w]{25,}/);
            const previewUrl = idMatch
              ? `https://drive.google.com/file/d/${idMatch[0]}/preview`
              : "";
            const icon = getFileIcon(file.url);
            const card = document.createElement("div");
            card.className = "file-card";
            card.innerHTML = `
                        <div class="file-preview">
                            <i class="far fa-${icon} fa-4x" style="color:#bdc3c7;"></i>
                        </div>
                        <div class="file-info">
                            <div class="file-name">${
                              file.name || "Ù…Ù„Ù Ø¨Ø¯ÙˆÙ† Ø§Ø³Ù…"
                            }</div>
                            <div class="file-meta">
                                <span><i class="far fa-calendar"></i> ${formatDate(
                                  file.horodateur
                                )}</span>
                            </div>
                            <a href="${
                              file.url
                            }" target="_blank" class="btnn3"><i class="fas fa-external-link-alt"></i> ÙØªØ­</a>
                        </div>
                    `;
            grid.appendChild(card);
          });

          container.innerHTML = "";
          container.appendChild(grid);
        } catch (err) {
          container.innerHTML = `<div class="error-message">Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: ${err.message}</div>`;
        }
      }

      // ØªØ´ØºÙŠÙ„ Ø§Ù„Ù†Ø§ÙØ°Ø©
      const modal = document.getElementById("filesModal");
      const openBtn = document.querySelector(".open-modal-btnn3");
      const closeBtn = document.querySelector(".close-btnn3");

      openBtn.onclick = () => {
        modal.style.display = "block";
        loadFiles();
      };

      closeBtn.onclick = () => (modal.style.display = "none");

      window.onclick = (e) => {
        if (e.target === modal) modal.style.display = "none";
      };
    </script>
    <script src="js/calendar.js"></script>
    <style>
      /* Chat Box Styles */
      .chat-box {
        margin-top: 20px;
        background: white;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        overflow: hidden;
        font-family: 'Tajawal', sans-serif;
      }
      .messages2 {
        max-height: 200px;
        overflow-y: auto;
        padding: 10px;
        border-bottom: 1px solid #eee;
        direction: rtl;
      }
      .msg {
        margin: 5px 0;
        padding: 8px 12px;
        border-radius: 5px;
        background: #f5f5f5;
        max-width: 80%;
        word-wrap: break-word;
      }
      .chat-input {
        display: flex;
        padding: 10px;
        background: transparent;
      }
      .chat-input input {
        flex: 1;
        padding: 8px;
        border: 1px solid #ddd;
        border-radius: 5px 0 0 5px;
        font-family: 'Tajawal', sans-serif;
      }
      .chat-input button {
        background: #026e3a;
        color: white;
        border: none;
        padding: 0 15px;
        border-radius:5px;
        cursor: pointer;
        font-family: 'Tajawal', sans-serif;
      }
      .chat-input button:hover {
        background: #019d52;
      }
      .user-info {
        background: #e9f7fe;
        padding: 10px;
        text-align: center;
        font-weight: bold;
        border-bottom: 1px solid #ddd;
      }
    </style>
    <script>
      // Function to safely get user data
      function getUserData() {
        try {
          const userData =
            sessionStorage.getItem("currentUser") ||
            localStorage.getItem("rememberedUser");
          return userData ? JSON.parse(userData) : null;
        } catch (e) {
          console.error("Error parsing user data:", e);
          return null;
        }
      }

      // Function to update user interface
      function updateUserInterface(user) {
        if (!user || !user.name) {
          window.location.href = "login.html";
          return;
        }

        // Set user information once
        const userNameElement = document.getElementById("userName");
        const userFullNameElement = document.getElementById("userFullName");
        const userPositionElement = document.getElementById("userPosition");
        const userAvatarElement = document.getElementById("userAvatar");
        const userGreetingElement = document.getElementById("userGreeting");

        // Prevent multiple updates
        if (userNameElement && !userNameElement.dataset.initialized) {
          userNameElement.textContent = user.name;
          userNameElement.dataset.initialized = "true";
        }

        if (userFullNameElement && !userFullNameElement.dataset.initialized) {
          userFullNameElement.textContent = user.name;
          userFullNameElement.dataset.initialized = "true";
        }

        if (userPositionElement && !userPositionElement.dataset.initialized) {
          userPositionElement.textContent = user.position || "Ø§Ù„Ø±ØªØ¨Ø© / Ø§Ù„Ù…Ù†ØµØ¨";
          userPositionElement.dataset.initialized = "true";
        }

        if (userAvatarElement && !userAvatarElement.dataset.initialized) {
          // Set a base64 encoded placeholder image if no avatar is provided
          const placeholderImage =
            "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNTAiIGhlaWdodD0iMTUwIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCI+CiAgPHJlY3Qgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSIgZmlsbD0iI2YwZjBmMCIvPgogIDx0ZXh0IHg9IjUwJSIgeT0iNTAlIiBmb250LWZhbWlseT0nQXJpYWwnIGZvbnQtc2l6ZT0iMTIiIGZpbGw9IiM5OTk5OTkiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGR5PSIuM2VtIj7Yp9mE2YrYr9mI2K8g2KfZhNmF2YbYtNmHPC90ZXh0Pgo8L3N2Zz4=";

          if (user.avatar) {
            userAvatarElement.src = user.avatar;
            userAvatarElement.onerror = function () {
              this.src = placeholderImage;
              this.onerror = null; // Prevent infinite loop
            };
          } else {
            userAvatarElement.src = placeholderImage;
          }

          userAvatarElement.alt = "ØµÙˆØ±Ø© Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ";
          userAvatarElement.style.borderRadius = "50%";
          userAvatarElement.style.width = "80px";
          userAvatarElement.style.height = "80px";
          userAvatarElement.style.objectFit = "cover";
          userAvatarElement.dataset.initialized = "true";
        }

        // Set greeting based on time
        if (userGreetingElement && !userGreetingElement.dataset.initialized) {
          const hour = new Date().getHours();
          let greeting = "ØµØ¨Ø§Ø­ Ø§Ù„Ø®ÙŠØ±";
          if (hour >= 12 && hour < 18) {
            greeting = "Ù…Ø³Ø§Ø¡ Ø§Ù„Ø®ÙŠØ±";
          } else if (hour >= 18) {
            greeting = "Ù…Ø³Ø§Ø¡ Ø§Ù„Ø®ÙŠØ±";
          }
          userGreetingElement.textContent = `${greeting}ØŒ ${user.name}`;
          userGreetingElement.dataset.initialized = "true";
        }

        // Hide Next Activity and Last Events buttons for non-president users
        const nextActivityBtn = document.querySelector(".activite-btn");
        const lastEventsBtn = document.querySelector(".eventss-btn");

        if (nextActivityBtn && lastEventsBtn) {
          if (user.role !== "raees") {
            nextActivityBtn.style.display = "none";
            lastEventsBtn.style.display = "none";
          } else {
            nextActivityBtn.style.display = "block";
            lastEventsBtn.style.display = "block";
          }
        }
      }

      // Initialize when DOM is loaded
      document.addEventListener("DOMContentLoaded", function () {
        // Get current user from session or local storage
        const user = getUserData();

        // If no user is logged in, redirect to login page
        if (!user) {
          window.location.href = "login.html";
          return;
        }

        // Update the UI with user information
        updateUserInterface(user);

        // Set up role buttons based on user role
        setupRoleButtons(user.role || "aadhou");

        // Update profile section
        const userFullNameElement = document.getElementById("userFullName");
        const userPositionElement = document.getElementById("userPosition");

        if (userFullNameElement) {
          userFullNameElement.textContent = user.name || "Ø²Ø§Ø¦Ø±";
        }

        if (userPositionElement) {
          userPositionElement.textContent = user.position || "Ø²Ø§Ø¦Ø±";
        }

        // Set up logout button
        const logoutBtn = document.getElementById("logoutBtn");
        if (logoutBtn && !logoutBtn.dataset.listenerAdded) {
          logoutBtn.addEventListener("click", function () {
            sessionStorage.removeItem("currentUser");
            localStorage.removeItem("rememberedUser");
            window.location.href = "login.html";
          });
          logoutBtn.dataset.listenerAdded = "true";
        }

        // Set up role buttons
        if (user) {
          setupRoleButtons(user.role || "aadhou");
        }
      });

      function setupRoleButtons(userRole) {
        console.log("Setting up role buttons for:", userRole);
        const buttons = document.querySelectorAll("#roleButtons button");
        
        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
        buttons.forEach(button => {
          button.classList.remove("active-role");
          button.disabled = false;
          
          // Ø¥Ø²Ø§Ù„Ø© Ù…Ø¹Ø§Ù„Ø¬Ø§Øª Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©
          const newButton = button.cloneNode(true);
          button.parentNode.replaceChild(newButton, button);
        });
        
        // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ø³ØªØ¨Ø¯Ø§Ù„
        const updatedButtons = document.querySelectorAll("#roleButtons button");
        
        // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø±Ø¦ÙŠØ³ Ø§Ù„Ù…ÙƒØªØ¨
        if (userRole === "raees") {
          updatedButtons.forEach(button => {
            const role = button.getAttribute("data-role");
            
            // ØªÙ…ÙŠÙŠØ² Ø§Ù„Ø²Ø± Ø§Ù„Ù†Ø´Ø· Ø§Ù„Ø­Ø§Ù„ÙŠ
            if (role === userRole) {
              button.classList.add("active-role");
            }
            
            // Ø¥Ø¶Ø§ÙØ© Ù…Ø¹Ø§Ù„Ø¬ Ø§Ù„Ù†Ù‚Ø± Ù„ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø£Ø¯ÙˆØ§Ø±
            button.addEventListener("click", function(e) {
              e.preventDefault();
              const selectedRole = this.getAttribute("data-role");
              console.log("Button clicked, selected role:", selectedRole);
              
              // ØªØ­Ø¯ÙŠØ« Ø­Ø§Ù„Ø© Ø§Ù„Ø£Ø²Ø±Ø§Ø±
              updatedButtons.forEach(btn => {
                btn.classList.remove("active-role");
              });
              this.classList.add("active-role");
              
              // ØªØ­Ø¯ÙŠØ« Ø¯ÙˆØ± Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ Ø§Ù„ØªØ®Ø²ÙŠÙ†
              const user = getUserData();
              if (user) {
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¯ÙˆØ± Ù…Ø¹ Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª
                user.currentRole = selectedRole; // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø®Ø§ØµÙŠØ© Ø¬Ø¯ÙŠØ¯Ø© Ù„ØªØªØ¨Ø¹ Ø§Ù„Ø¯ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠ
                sessionStorage.setItem("currentUser", JSON.stringify(user));
                if (localStorage.getItem("rememberedUser")) {
                  localStorage.setItem("rememberedUser", JSON.stringify(user));
                }
                
                // ÙØªØ­ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„Ø¯ÙˆØ± Ø§Ù„Ù…Ø­Ø¯Ø¯
                const pageMap = {
                  'raees': '1.html',
                  'tanzeem': '2.html',
                  'hamlat': '3.html',
                  'idara': '4.html',
                  'katib': '5.html',
                  'i3lam': '6.html',
                  'shabab': '7.html',
                  'nissa': '8.html',
                  'aadhou': '9.html'
                };
                
                if (pageMap[selectedRole]) {
                  window.open(pageMap[selectedRole], '_blank');
                }
                
                // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ù…Ø¹ Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ø±Ø¦ÙŠØ³
                setupRoleButtons("raees");
              }
            });
          });
        } 
        // Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„ÙŠØ³ Ø±Ø¦ÙŠØ³ Ù…ÙƒØªØ¨
        else {
          updatedButtons.forEach(button => {
            const role = button.getAttribute("data-role");
            
            if (role === userRole) {
              button.classList.add("active-role");
              button.disabled = false;
            } else {
              button.disabled = true;
            }
          });
        }
        
        console.log("Role buttons setup completed for:", userRole);
      }

      const scriptURL =
        "https://script.google.com/macros/s/AKfycbz_i-wRFIAbax3k0s-HWLp5Y8CrN7mkOussemBhDYOIGNJ5a_lLWuh7kyjGdQQC-IM0/exec";

      // ğŸ§¼ Ø¯Ø§Ù„Ø© Ø­Ù…Ø§ÙŠØ© Ø§Ù„Ù†Øµ Ù…Ù† HTML
      function escapeHtml(str) {
        if (!str && str !== 0) return "";
        return String(str).replace(/[&<>"']/g, function (m) {
          return {
            "&": "&amp;",
            "<": "&lt;",
            ">": "&gt;",
            '"': "&quot;",
            "'": "&#39;",
          }[m];
        });
      }

      // ğŸ•’ ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ù…Ø¹ "ØµØ¨Ø§Ø­Ù‹Ø§" Ùˆ "Ù…Ø³Ø§Ø¡Ù‹"
      function formatDateTime(input) {
        if (!input) return "";
        const dateObj = new Date(input);
        if (isNaN(dateObj)) return "";

        let formatted = dateObj
          .toLocaleString("ar-DZ", {
            day: "2-digit",
            month: "long",
            year: "numeric",
            hour: "2-digit",
            minute: "2-digit",
            hour12: true,
          })
          .replace("ØŒ", " - ");

        // ğŸª„ Ø§Ø³ØªØ¨Ø¯Ø§Ù„ "Øµ" Ùˆ "Ù…" Ø¨ÙƒÙ„Ù…Ø§Øª ÙƒØ§Ù…Ù„Ø©
        formatted = formatted.replace("Øµ", "ØµØ¨Ø§Ø­Ù‹Ø§").replace("Ù…", "Ù…Ø³Ø§Ø¡Ù‹");

        return formatted;
      }

      function showNoActivity() {
        document.getElementById("activity").innerHTML =
          '<p class="no-activity"> Ø³ÙŠØªÙ… ØªØ­Ø¯ÙŠØ« Ù†Ø´Ø§Ø· Ù‚Ø±ÙŠØ¨Ø§Ù‹</p>';
      }

      function showActivity(activity) {
        const container = document.getElementById("activity");
        container.innerHTML = "";

        if (!activity || !activity.title) {
          showNoActivity();
          return;
        }

        // ğŸ§® Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù…Ø±ÙˆØ± 7 Ø£ÙŠØ§Ù… Ø¨Ø¹Ø¯ ØªØ§Ø±ÙŠØ® Ø§Ù„Ù†Ø´Ø§Ø·
        const activityDate = new Date(activity.date);
        const now = new Date();
        const diffDays = (now - activityDate) / (1000 * 60 * 60 * 24);

        if (isNaN(activityDate) || diffDays > 1) {
          showNoActivity();
          return;
        }

        const card = document.createElement("div");
        card.className = "activity-card";
        card.innerHTML = `
        <h2>${escapeHtml(activity.title)}</h2>
        <p>${escapeHtml(activity.description)}</p>
        <p class="date">Ø§Ù„ØªØ§Ø±ÙŠØ® : ${escapeHtml(
          formatDateTime(activity.date)
        )}</p>
        <p class="place">Ø§Ù„Ù…ÙƒØ§Ù† : ${escapeHtml(activity.place)}</p>
      `;
        container.appendChild(card);
      }

      // ğŸ“¨ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Google Apps Script
      fetch(scriptURL)
        .then((response) => response.json())
        .then((data) => showActivity(data))
        .catch((err) => {
          console.error("Ø­Ø¯Ø« Ø®Ø·Ø£:", err);
          showNoActivity();
        });
    </script>

    <script>
      const scriptURL2 =
        "https://script.google.com/macros/s/AKfycbxJ6c1rf-hBehdnMKTrNFwgyGhMEglgd6K3GVqJgXPujM_d2Vha5p0hj6AWVAOZ0zBh/exec";

      function escapeHtml(str) {
        if (!str && str !== 0) return "";
        return String(str).replace(
          /[&<>"']/g,
          (m) =>
            ({
              "&": "&amp;",
              "<": "&lt;",
              ">": "&gt;",
              '"': "&quot;",
              "'": "&#39;",
            }[m])
        );
      }

      // ğŸ•’ ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø¨Ø¯ÙˆÙ† Ø§Ù„Ø³Ø§Ø¹Ø©
      function formatDateTime(input) {
        if (!input) return "";
        const d = new Date(input);
        if (isNaN(d)) return "";
        return d.toLocaleDateString("ar-DZ", {
          day: "2-digit",
          month: "long",
          year: "numeric",
        });
      }

      function showNoEvents() {
        document.getElementById("events").innerHTML =
          '<p class="no-events"> Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø­Ø¯Ø§Ø« Ø­Ø¯ÙŠØ«Ø© Ø­Ø§Ù„ÙŠÙ‹Ø§</p>';
      }

      function showEvents(events) {
        const container = document.getElementById("events");
        container.innerHTML = "";

        if (!events || events.length === 0) {
          showNoEvents();
          return;
        }

        // ğŸ§® ØªØ±ØªÙŠØ¨ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ù…Ù† Ø§Ù„Ø£Ø­Ø¯Ø« Ø¥Ù„Ù‰ Ø§Ù„Ø£Ù‚Ø¯Ù…
        events.sort((a, b) => new Date(b.date) - new Date(a.date));

        // ğŸª„ Ø¹Ø±Ø¶ Ø¢Ø®Ø± 3 ÙÙ‚Ø·
        const lastThree = events.slice(0, 3);

        // ğŸ•’ Ø§Ø³ØªØ¨Ø¹Ø§Ø¯ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„ØªÙŠ Ù…Ø¶Ù‰ Ø¹Ù„ÙŠÙ‡Ø§ Ø£ÙƒØ«Ø± Ù…Ù† 7 Ø£ÙŠØ§Ù…
        const now = new Date();
        const validEvents = lastThree.filter((e) => {
          const eventDate = new Date(e.date);
          return (
            !isNaN(eventDate) && (now - eventDate) / (1000 * 60 * 60 * 24) <= 7
          );
        });

        if (validEvents.length === 0) {
          showNoEvents();
          return;
        }

        validEvents.forEach((event) => {
          const card = document.createElement("div");
          card.className = "event-card";
          card.innerHTML = `
          <h2>${escapeHtml(event.title)}</h2>
          <p>${escapeHtml(event.description)}</p>
          <p class="date">Ø§Ù„ØªØ§Ø±ÙŠØ® : ${escapeHtml(
            formatDateTime(event.date)
          )}</p>
          <p class="place">Ø§Ù„Ù…ÙƒØ§Ù† : ${escapeHtml(event.place)}</p>
        `;
          container.appendChild(card);
        });
      }

      fetch(scriptURL2)
        .then((res) => res.json())
        .then((data) => showEvents(data))
        .catch((err) => {
          console.error("Ø­Ø¯Ø« Ø®Ø·Ø£:", err);
          showNoEvents();
        });
    </script>

    <script>
      // ğŸ”¸ ÙˆØ¸Ø§Ø¦Ù ÙØªØ­ ÙˆØºÙ„Ù‚ Ø§Ù„Ù†Ø§ÙØ°Ø©
      function openModal() {
        document.getElementById("membersModal").style.display = "flex";
      }
      function closeModal() {
        document.getElementById("membersModal").style.display = "none";
      }

      const WEB_APP_URL3 =
        "https://script.google.com/macros/s/AKfycbxRnqZU8tYp6wfm_uELbS7VO1QF2JgDlmZwG6ClhEUjhP3f4yT8AJ6JStX3Yn3-zJDPeQ/exec";
      const API_KEY = "";

      const KEYS = {
        joinDate: "ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†Ø®Ø±Ø§Ø·",
        fullName: "Ø§Ù„Ø§Ø³Ù… Ùˆ Ø§Ù„Ù„Ù‚Ø¨",
        photo: "Ø§Ù„ØµÙˆØ±Ø©",
        birth: "ØªØ§Ø±ÙŠØ® Ùˆ Ù…ÙƒØ§Ù† Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯",
        status: "Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©",
        address: "Ø§Ù„Ø¹Ù†ÙˆØ§Ù†",
        phone: "Ø§Ù„Ù‡Ø§ØªÙ",
        email: "Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ",
      };

      const grid = document.getElementById("grid");
      const emptyBox = document.getElementById("empty");
      const searchInput = document.getElementById("search");
      const sortSelect = document.getElementById("sortSelect");
      let members = [];

      async function fetchMembers() {
        try {
          const url = new URL(WEB_APP_URL3);
          if (API_KEY) url.searchParams.set("apiKey", API_KEY);
          const res = await fetch(url.toString(), { cache: "no-store" });
          if (!res.ok) throw new Error("ÙØ´Ù„ Ø§Ù„ØªØ­Ù…ÙŠÙ„");
          const data = await res.json();
          members = data.map(normalizeRow);
          render();
        } catch (err) {
          emptyBox.style.display = "block";
          emptyBox.textContent = "Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.";
          console.error(err);
        }
      }

      function normalizeRow(row) {
        const d = row[KEYS.joinDate] || "";
        return {
          joinDate: formatDate(d),
          fullName: row[KEYS.fullName] || "",
          photo: row[KEYS.photo] || "",
          birth: row[KEYS.birth] || "",
          status: row[KEYS.status] || "",
          address: row[KEYS.address] || "",
          phone: row[KEYS.phone] || "",
          email: row[KEYS.email] || "",
        };
      }

      function formatDate(value) {
        if (!value) return "";
        const date = new Date(value);
        if (isNaN(date)) return value;
        return date.toLocaleDateString("ar-DZ", {
          year: "numeric",
          month: "2-digit",
          day: "2-digit",
        });
      }

      function render() {
        const q = searchInput.value.trim().toLowerCase();
        let list = members.filter((m) => {
          const hay = (
            m.fullName +
            " " +
            m.address +
            " " +
            m.phone +
            " " +
            m.email
          ).toLowerCase();
          return hay.includes(q);
        });

        const sort = sortSelect.value;
        if (sort === "date_desc")
          list.sort((a, b) => new Date(b.joinDate) - new Date(a.joinDate));
        if (sort === "date_asc")
          list.sort((a, b) => new Date(a.joinDate) - new Date(b.joinDate));
        if (sort === "name_asc")
          list.sort((a, b) => a.fullName.localeCompare(b.fullName, "ar"));
        if (sort === "name_desc")
          list.sort((a, b) => b.fullName.localeCompare(a.fullName, "ar"));

        grid.innerHTML = "";
        if (!list.length) {
          emptyBox.style.display = "block";
          emptyBox.textContent = q ? "Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬ Ù„Ù„Ø¨Ø­Ø«." : "Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª.";
          return;
        } else emptyBox.style.display = "none";

        list.forEach((m) => {
          const card = document.createElement("article");
          card.className = "card";

          const avatar = document.createElement("div");
          avatar.className = "avatar";
          const img = document.createElement("img");
          img.alt = m.fullName;
          img.src = m.photo || placeholderSVG(m.fullName);
          avatar.appendChild(img);

          const info = document.createElement("div");
          info.className = "info";

          const title = document.createElement("div");
          title.className = "title";
          title.textContent = m.fullName;

          const meta = document.createElement("div");
          meta.className = "meta-grid";
          addField(meta, "ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†Ø®Ø±Ø§Ø·", m.joinDate);
          addField(meta, "ØªØ§Ø±ÙŠØ® Ùˆ Ù…ÙƒØ§Ù† Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯", m.birth);
          addField(meta, "Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ©", m.status);
          addField(meta, "Ø§Ù„Ø¹Ù†ÙˆØ§Ù†", m.address);
          addField(meta, "Ø§Ù„Ù‡Ø§ØªÙ", m.phone);
          addField(meta, "Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ", m.email);

          info.appendChild(title);
          info.appendChild(meta);
          card.appendChild(avatar);
          card.appendChild(info);
          grid.appendChild(card);
        });
      }

      function addField(parent, label, value) {
        const f = document.createElement("div");
        f.className = "field";
        const l = document.createElement("div");
        l.className = "label";
        l.textContent = label;
        const v = document.createElement("div");
        v.className = "value";
        v.textContent = value || "â€”";
        f.appendChild(l);
        f.appendChild(v);
        parent.appendChild(f);
      }

      function placeholderSVG(name) {
        const short = (name || "")
          .split(" ")
          .map((s) => s[0] || "")
          .slice(0, 2)
          .join("")
          .toUpperCase();
        const svg = `<svg xmlns='http://www.w3.org/2000/svg' width='400' height='400' viewBox='0 0 400 400'><rect width='100%' height='100%' fill='%23eaf2ff'/><text x='50%' y='50%' font-family='sans-serif' font-size='90' text-anchor='middle' dominant-baseline='central' fill='%2390a4bf'>${
          short || "Øµ"
        }</text></svg>`;
        return "data:image/svg+xml;utf8," + encodeURIComponent(svg);
      }

      searchInput.addEventListener(
        "input",
        debounce(() => render(), 200)
      );
      sortSelect.addEventListener("change", () => render());

      function debounce(fn, wait) {
        let t;
        return function (...args) {
          clearTimeout(t);
          t = setTimeout(() => fn.apply(this, args), wait);
        };
      }

      fetchMembers();

      // Chat functionality
      const scriptURL7 = "https://script.google.com/macros/s/AKfycbzyG20jpY-CzfO1gAwf1-MKZ1twg11JHEoJeX0yOb6w56NY0HFhcDTLrd-WzDfeqWy7/exec";

      async function loadMessages() {
        try {
          const res = await fetch(scriptURL7);
          const data = await res.json();
          const msgBox = document.getElementById("messages2");
          if (msgBox) {
            msgBox.innerHTML = data.map(m => 
              `<div class='msg'><strong>${escapeHtml(m.name)}:</strong> ${escapeHtml(m.message)}</div>`
            ).join('');
            msgBox.scrollTop = msgBox.scrollHeight;
          }
        } catch (error) {
          console.error('Error loading messages:', error);
        }
      }

      // Get current user
      function getCurrentUser() {
        try {
          const userData = sessionStorage.getItem('currentUser') || localStorage.getItem('rememberedUser');
          return userData ? JSON.parse(userData) : null;
        } catch (e) {
          console.error('Error getting user data:', e);
          return null;
        }
      }

      // Update user info display
      function updateUserInfo() {
        const user = getCurrentUser();
        const userInfo = document.getElementById('userInfo');
        
        if (user && user.fullName) {
          userInfo.textContent = `Ù…Ø±Ø­Ø¨Ø§Ù‹ ${user.fullName}`;
          userInfo.style.display = 'block';
        } else {
          userInfo.textContent = '';
          userInfo.style.display = 'none';
        }
      }

      async function sendMessage() {
        const user = getCurrentUser();
        if (!user) {
          alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹');
          window.location.href = 'login.html';
          return;
        }

        const messageInput = document.getElementById("message");
        const message = messageInput.value.trim();
        
        if (!message) return alert("Ø§Ù„Ø±Ø¬Ø§Ø¡ ÙƒØªØ§Ø¨Ø© Ø±Ø³Ø§Ù„Ø©");

        try {
          const formData = new FormData();
          // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ù…Ù†ØµØ¨
          const displayName = user.position ? 
            `${user.name} - ${user.position}` : 
            user.name || 'Ù…Ø³ØªØ®Ø¯Ù…';
          
          formData.append("name", displayName);
          formData.append("message", message);
          formData.append("originalName", user.name || 'Ù…Ø³ØªØ®Ø¯Ù…'); // Ø­ÙØ¸ Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø£ØµÙ„ÙŠ Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠ

          await fetch(scriptURL7, { method: "POST", body: formData });
          messageInput.value = "";
          loadMessages();
        } catch (error) {
          console.error('Error sending message:', error);
          alert('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø³Ø§Ù„Ø©');
        }
      }

      // Initialize chat
      document.addEventListener('DOMContentLoaded', function() {
        updateUserInfo();
        loadMessages();
        setInterval(loadMessages, 2000);

        // Send message on Enter key
        const messageInput = document.getElementById("message");
        if (messageInput) {
          messageInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
              sendMessage();
            }
          });
        }
      });
    </script>
    
    <!-- Footer -->
    <footer class="site-footer">
      <div class="footer-content">
        <div class="footer-section">
          <h4>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªÙˆØ§ØµÙ„</h4>
          <p><i class="fas fa-map-marker-alt"></i> Ø§Ù„Ø¹Ù†ÙˆØ§Ù†: Ø­ÙŠ Ø§Ù„Ø¹Ø±ØµØ© Ø¨Ø§Ù„Ù‚Ø±Ø¨ Ù…Ù† Ù…Ø³Ø¬Ø¯ Ø¹Ø«Ù…Ø§Ù† Ø¨Ù† Ø¹ÙØ§Ù†</p>
          <p><i class="fas fa-phone"></i> Ø§Ù„Ù‡Ø§ØªÙ: 0660210500</p>
          <p><i class="fas fa-envelope"></i> Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ: elbarakamosta@gmail.com</p>
        </div>
        <div class="footer-section">
          <h4>ØªØ§Ø¨Ø¹Ù†Ø§ Ø¹Ù„Ù‰</h4>
          <div class="social-links">
            <a href="https://web.facebook.com/elbaraka.mostaganem" class="social-icon"><i class="fab fa-facebook"></i></a>
            <a href="https://www.instagram.com/elbaraka.mostaganem" class="social-icon"><i class="fab fa-instagram"></i></a>
            <a href="https://www.youtube.com/@elbarakahdz" class="social-icon"><i class="fab fa-youtube"></i></a>
          </div>
        </div>
      </div>
      <div class="footer-bottom" >
        <p style="text-align: center; direction: ltr;">Â© 2025 Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© - Ø¬Ù…Ø¹ÙŠØ© Ø§Ù„Ø¨Ø±ÙƒØ© Ù„Ù„Ø¹Ù…Ù„ Ø§Ù„Ø®ÙŠØ±ÙŠ ÙˆØ§Ù„Ø§Ù†Ø³Ø§Ù†ÙŠ</p>
      </div>
    </footer> 

    <style>
      /* Footer Styles */
      .site-footer {
        background: linear-gradient(135deg, #024e29, #03924d);
        color: #fff;
        padding: 30px 0 10px;
        margin-top: 40px;
        font-family: 'Tajawal', sans-serif;
      }
      
      .footer-content {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-around;
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }
      
      .footer-section {
        flex: 1;
        min-width: 250px;
        margin: 0 15px 20px;
      }
      
      .footer-section h4 {
        color: #fff;
        margin-bottom: 20px;
        position: relative;
        padding-bottom: 10px;
      }
      
      .footer-section h4::after {
        content: '';
        position: absolute;
        right: 0;
        bottom: 0;
        width: 50px;
        height: 2px;
        background: #fdc116;
      }
      
      .footer-section ul {
        list-style: none;
        padding: 0;
      }
      
      .footer-section ul li {
        margin-bottom: 10px;
      }
      
      .footer-section ul li a {
        color: #ecf0f1;
        text-decoration: none;
        transition: all 0.3s ease;
      }
      
      .footer-section ul li a:hover {
        color: #fdc116;
        padding-right: 5px;
      }
      
      .footer-section p {
        color: #ecf0f1;
        margin: 10px 0;
        display: flex;
        align-items: center;
      }
      
      .footer-section p i {
        margin-left: 10px;
        color: #fdc116;
      }
      
      .social-links {
        display: flex;
        gap: 15px;
        margin-top: 20px;
      }
      
      .social-icon {
        color: #fff;
        background: rgba(255, 255, 255, 0.1);
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: all 0.3s ease;
        text-decoration: none;
      }
      
      .social-icon:hover {
        background: #fdc116;
        transform: translateY(-3px);
      }
      
      .footer-bottom {
        text-align: center;
        padding: 15px 0;
        margin-top: 20px;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        font-size: 14px;
        color: #ecf0f1;
      }
      
      @media (max-width: 768px) {
        .footer-section {
          flex: 100%;
          text-align: center;
          margin-bottom: 30px;
        }
        
        .footer-section h4::after {
          right: 50%;
          transform: translateX(50%);
        }
        
        .social-links {
          justify-content: center;
        }
        
        .footer-section p {
          justify-content: center;
        }
      }
    </style>
  </body>
</html>
